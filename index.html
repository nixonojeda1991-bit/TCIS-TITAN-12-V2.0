<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCIS TITAN V2.4 | PROTOCOLO L.I.S.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0d1a2d; color: white; }
        
        /* Estilos Generales */
        .titan-gradient { background: linear-gradient(90deg, #FFD700 0%, #FFA500 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .slider-thumb::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 25px; height: 25px; background: #FFD700; cursor: pointer; border-radius: 50%; }
        .glass-panel { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        /* ESTILOS DE TU NUEVO BOTÓN PAYPAL (NCP) */
        .pp-JUQ6B9EU7YHZQ {
            text-align: center;
            border: none;
            border-radius: 0.25rem;
            min-width: 11.625rem;
            padding: 0 2rem;
            height: 2.625rem;
            font-weight: bold;
            background-color: #FFD140;
            color: #000000;
            font-family: "Helvetica Neue", Arial, sans-serif;
            font-size: 1rem;
            line-height: 1.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(255, 215, 0, 0.2);
        }
        .pp-JUQ6B9EU7YHZQ:hover {
            background-color: #ffbf00;
            transform: scale(1.02);
            box-shadow: 0 10px 15px rgba(255, 215, 0, 0.3);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 relative overflow-x-hidden">

    <div class="absolute top-4 right-4 z-50">
        <button onclick="toggleAdminPanel()" class="text-xs text-gray-500 hover:text-yellow-500 transition opacity-50 hover:opacity-100">MODO ADMIN</button>
    </div>

    <div id="adminPanel" class="hidden fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="bg-gray-900 p-8 rounded-xl border border-yellow-500 max-w-sm w-full shadow-2xl">
            <h3 class="text-xl font-bold text-yellow-400 mb-4 text-center">ACCESO ARQUITECTO</h3>
            <input type="email" id="adminEmail" placeholder="Email Admin" class="w-full p-3 mb-3 bg-gray-800 rounded text-white border border-gray-700 focus:border-yellow-500 outline-none">
            <input type="password" id="adminPass" placeholder="Contraseña" class="w-full p-3 mb-6 bg-gray-800 rounded text-white border border-gray-700 focus:border-yellow-500 outline-none">
            <button onclick="loginAdmin()" class="w-full bg-yellow-500 text-black font-bold py-3 rounded hover:bg-yellow-400 transition transform active:scale-95">INICIAR SESIÓN SOBERANA</button>
            <button onclick="toggleAdminPanel()" class="w-full mt-4 text-sm text-gray-500 hover:text-white">Cancelar</button>
            <p id="loginError" class="text-red-500 text-xs mt-4 hidden text-center">Credenciales inválidas o falta Configuración.</p>
        </div>
    </div>

    <div class="max-w-4xl w-full z-10 space-y-8 my-10">
        
        <div class="text-center space-y-2">
            <h1 class="text-5xl md:text-7xl font-black tracking-tighter titan-gradient">TCIS TITAN</h1>
            <p class="text-blue-300 text-sm md:text-lg tracking-[0.2em] uppercase">Sistema de Auditoría de Intención Soberana</p>
            <div class="h-1 w-24 mx-auto bg-yellow-500 rounded-full mt-4"></div>
        </div>

        <div class="glass-panel p-6 md:p-10 rounded-3xl shadow-2xl relative overflow-hidden">
            <div class="absolute top-0 right-0 w-64 h-64 bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>

            <div class="mb-8 relative z-10">
                <label class="block text-blue-400 text-xs font-bold uppercase mb-2 tracking-wider">1. ECO: INTENCIÓN SOBERANA</label>
                <input type="text" id="intencion" class="w-full bg-black/40 border border-gray-700 rounded-xl p-4 text-white placeholder-gray-500 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500 outline-none transition" placeholder="Ej: Lanzar mi proyecto de consultoría hoy...">
            </div>

            <div class="mb-10 relative z-10">
                <label class="block text-yellow-500 text-xs font-bold uppercase mb-2 tracking-wider">1.b L.I.S. (LEY DE IDENTIDAD SOBERANA)</label>
                <input type="text" id="identidad" class="w-full bg-black/40 border border-gray-700 rounded-xl p-4 text-white placeholder-gray-500 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500 outline-none transition" placeholder="¿Cuál es su Identidad Fija? Ej: Soy Arquitecto de Sistemas...">
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10 relative z-10">
                <div class="bg-black/30 p-6 rounded-2xl border border-red-900/30 hover:border-red-500/50 transition">
                    <div class="flex justify-between items-center mb-6">
                        <label class="text-red-400 font-bold text-xs tracking-widest">FÉNIX | RIESGO G(A)</label>
                        <span id="val-ga" class="text-3xl font-mono text-red-500 font-bold">50G</span>
                    </div>
                    <input type="range" id="ga" min="0" max="100" value="50" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb">
                    <p class="text-[10px] text-gray-500 mt-3 uppercase">Costo de Intentar (Miedo, Error)</p>
                </div>

                <div class="bg-black/30 p-6 rounded-2xl border border-yellow-900/30 hover:border-yellow-500/50 transition">
                    <div class="flex justify-between items-center mb-6">
                        <label class="text-yellow-400 font-bold text-xs tracking-widest">FÉNIX | RIESGO G(I)</label>
                        <span id="val-gi" class="text-3xl font-mono text-yellow-500 font-bold">50G</span>
                    </div>
                    <input type="range" id="gi" min="0" max="100" value="50" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb">
                    <p class="text-[10px] text-gray-500 mt-3 uppercase">Costo de NO Hacer Nada (Obsolescencia)</p>
                </div>
            </div>

            <button onclick="ejecutarAuditoria()" class="w-full bg-gradient-to-r from-yellow-600 via-yellow-500 to-yellow-600 hover:from-yellow-500 hover:to-yellow-400 text-black font-black py-5 rounded-xl shadow-lg transform transition hover:scale-[1.01] text-lg md:text-xl tracking-[0.2em] uppercase border border-yellow-400/50">
                EJECUTAR AUDITORÍA TITÁN
            </button>
        </div>

        <div id="resultado" class="hidden glass-panel p-8 rounded-2xl border-l-4 border-yellow-500 animate-fade-in-up">
            <h2 id="veredicto-titulo" class="text-3xl font-black mb-4 text-white"></h2>
            <p id="veredicto-texto" class="text-lg text-gray-300 mb-6 leading-relaxed"></p>
        </div>

        <div id="proUpgrade" class="hidden mt-12 transform transition hover:scale-[1.005] duration-500">
            <div class="p-[2px] rounded-2xl bg-gradient-to-r from-yellow-600 via-yellow-300 to-yellow-600 shadow-[0_0_50px_rgba(255,215,0,0.15)]">
                <div class="bg-[#0f172a] rounded-2xl p-8 md:p-12 text-center relative overflow-hidden">
                    
                    <div class="absolute top-6 right-0 bg-red-600 text-white text-[10px] font-bold px-4 py-1 uppercase tracking-widest transform rotate-0 rounded-l-md shadow-lg">Oferta Lanzamiento Beta</div>

                    <h3 class="text-2xl md:text-4xl font-black text-white mb-2 tracking-tight">TCIS TITAN PRO</h3>
                    <p class="text-yellow-400 font-bold text-lg mb-6 tracking-widest">PROTOCOLO L.I.S. (LICENCIA PERSONAL)</p>
                    
                    <p class="text-gray-400 mb-8 max-w-2xl mx-auto text-sm leading-relaxed">
                        Acceda al <strong class="text-white">Procedimiento Operativo Estandarizado (PDF)</strong> para eliminar la parálisis. Incluye la L.I.S. Scorecard y el acceso futuro al Agente IA.
                    </p>
                    
                    <div class="flex items-end justify-center gap-2 mb-8">
                        <span class="text-6xl font-black text-white">$5</span>
                        <div class="text-left pb-2">
                            <span class="block text-sm text-gray-400 line-through">$97.00</span>
                            <span class="block text-xs text-yellow-500 font-bold uppercase">Pago Único</span>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        
                        <div class="flex justify-center transform transition hover:scale-105 duration-300">
                             <form action="https://www.paypal.com/ncp/payment/JUQ6B9EU7YHZQ" method="post" target="_blank" style="display:inline-grid;justify-items:center;align-content:start;gap:0.5rem;">
                                <input class="pp-JUQ6B9EU7YHZQ" type="submit" value="DESCARGAR PROTOCOLO AHORA" />
                                <img src="https://www.paypalobjects.com/images/Debit_Credit.svg" alt="cards" class="opacity-70 h-6" />
                                <section style="font-size: 0.75rem; color:#6b7280;">Con la tecnología de <img src="https://www.paypalobjects.com/paypal-ui/logos/svg/paypal-wordmark-color.svg" alt="paypal" style="height:0.875rem;vertical-align:middle; filter: grayscale(100%); opacity: 0.5;"/></section>
                              </form>
                        </div>

                        <div class="flex items-center justify-center space-x-4 opacity-30">
                            <div class="h-px w-10 bg-white"></div>
                            <span class="text-xs uppercase">Soporte & Opciones</span>
                            <div class="h-px w-10 bg-white"></div>
                        </div>

                        <div class="flex flex-col md:flex-row justify-center items-center gap-4">
                            <a href="https://wa.me/584124577822?text=Hola%20Arquitecto,%20he%20realizado%20el%20pago%20del%20Protocolo%20TITAN.%20Solicito%20mi%20acceso." target="_blank" class="flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-500 text-white text-xs font-bold rounded-lg transition shadow-lg border border-green-400/30">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                                <span>REPORTAR PAGO</span>
                            </a>

                            <a href="https://www.paypal.com/donate/?business=tcistitan@gmail.com&no_recurring=0&currency_code=USD" target="_blank" class="flex items-center gap-2 px-6 py-3 bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs font-bold rounded-lg transition border border-gray-700">
                                <span>☕ GRATIFICACIÓN AL CREADOR</span>
                            </a>
                        </div>
                    </div>

                    <div class="mt-10 p-4 bg-red-900/20 border border-red-900/50 rounded-lg text-left">
                        <p class="text-[10px] text-red-300 leading-relaxed font-mono">
                            <strong class="text-red-400 uppercase">ADVERTENCIA CORPORATIVA / USO COMERCIAL:</strong><br>
                            La Licencia TITAN PRO ($5) otorga derechos de uso estrictamente PERSONAL (Soberanía Individual). 
                            Si usted representa una corporación (B2B) o busca implementar este protocolo para decisiones de Alto Capital (> $10k), 
                            requiere una Licencia Comercial TITAN.
                            <br><a href="#" class="underline hover:text-white">Contacte a Soporte para Licencias B2B.</a>
                        </p>
                    </div>

                </div>
            </div>
        </div>

        <div class="text-center text-gray-600 text-xs mt-12 pb-4 font-mono">
            <p>&copy; 2025 TCIS TITAN | V2.4 SECURE</p>
            <p>Estado del Sistema: <span id="systemStatus" class="text-green-500 font-bold">EN LÍNEA</span></p>
        </div>

    </div>

    <script type="module">
        // ------------------------------------------------------------------
        // CONFIGURACIÓN FIREBASE (Modo Ciego)
        // INSTRUCCIÓN: BORRA EL TEXTO ENTRE COMILLAS Y PEGA TU CLAVE NUEVA
        // ------------------------------------------------------------------
        const firebaseConfig = {
            apiKey: "---AIzaSyCCcS9E9nGEb2cg0vVjBGLX01G-McfjN-M  ---",
            authDomain: "tcis-titan-12.firebaseapp.com",
            projectId: "tcis-titan-12",
            storageBucket: "tcis-titan-12.firebasestorage.app",
            messagingSenderId: "298942508038",
            appId: "1:298942508038:web:a7107a1cdc65216ec96787",
            measurementId: "G-F3J54D4M57"
        };
        const appId = firebaseConfig.projectId;
        // ------------------------------------------------------------------

        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        let userId = null;

        onAuthStateChanged(auth, (user) => {
            if (user) {
                userId = user.uid;
                console.log("Soberanía Conectada:", userId);
                document.getElementById('systemStatus').innerText = "OPERATIVO | ID: " + userId.substring(0,6);
            } else {
                signInAnonymously(auth).catch(console.error);
            }
        });

        window.updateSliders = () => {
            document.getElementById('val-ga').innerText = document.getElementById('ga').value + 'G';
            document.getElementById('val-gi').innerText = document.getElementById('gi').value + 'G';
        }
        document.getElementById('ga').addEventListener('input', window.updateSliders);
        document.getElementById('gi').addEventListener('input', window.updateSliders);

        window.ejecutarAuditoria = async () => {
            const intencion = document.getElementById('intencion').value;
            const identidad = document.getElementById('identidad').value;
            const ga = parseInt(document.getElementById('ga').value);
            const gi = parseInt(document.getElementById('gi').value);

            if(!intencion || !identidad) { alert("ERROR: Defina Intención e Identidad."); return; }

            let titulo = "", texto = "", color = "";
            
            if (ga < gi) {
                titulo = "MANDATO DE EJECUCIÓN (ACI)";
                texto = `**LEY CERO APROBADA:** El riesgo de parálisis (${gi}G) supera al costo de acción (${ga}G).<br>La inacción es matemáticamente injustificable.`;
                color = "text-green-400";
                
                const offer = document.getElementById('proUpgrade');
                offer.classList.remove('hidden');
                offer.scrollIntoView({ behavior: 'smooth' });
            } else {
                titulo = "VETO TITÁN: PARÁLISIS DE RIESGO";
                texto = `**ALERTA CAUSAL:** El costo de actuar (${ga}G) es demasiado alto. Necesita reestructurar la Intención para bajar el Riesgo G(A).`;
                color = "text-red-500";
                document.getElementById('proUpgrade').classList.add('hidden');
            }

            const resDiv = document.getElementById('resultado');
            resDiv.classList.remove('hidden');
            document.getElementById('veredicto-titulo').innerText = titulo;
            document.getElementById('veredicto-titulo').className = "text-2xl md:text-3xl font-black mb-4 " + color;
            document.getElementById('veredicto-texto').innerHTML = texto;

            if(userId) {
                try {
                    await setDoc(doc(db, "artifacts", "tcis-titan-12", "audits", userId + "_" + Date.now()), {
                        uid: userId, ts: serverTimestamp(), intent: intencion,
                        ga: ga, gi: gi, result: titulo
                    });
                } catch(e) { console.log("Log stored locally."); }
            }
        };

        window.toggleAdminPanel = () => document.getElementById('adminPanel').classList.toggle('hidden');
        window.loginAdmin = () => {
            const e = document.getElementById('adminEmail').value;
            const p = document.getElementById('adminPass').value;
            signInWithEmailAndPassword(auth, e, p).then(() => {
                document.getElementById('adminPanel').classList.add('hidden');
                alert("Bienvenido, Arquitecto. Controles Soberanos Activados.");
            }).catch(() => document.getElementById('loginError').classList.remove('hidden'));
        };
    </script>
</body>
</html>
